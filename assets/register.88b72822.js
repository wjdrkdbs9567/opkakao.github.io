import{p as t,a,c as s,b as e,t as o,L as r,N as i,F as l,o as n}from"./ant-design-vue.50c9b8f3.js";import{_ as d,a as c}from"./close.56cb694f.js";const h={data(){return{formData:{platform:1},codeText:this.$t("发送")}},async created(){},unmounted(){clearInterval(this.interval)},methods:{async submit(){this.formData.phone?this.formData.code?this.formData.password?this.formData.password===this.formData.passwordAgain?(await this.$axios.post("register",this.formData),this.$message.success(this.$t("操作成功")),this.$router.replace("/login")):this.$message.error(this.$t("两次密码输入不一致")):this.$message.error(this.$t("请输入您的密码")):this.$message.error(this.$t("请输入验证码")):this.$message.error(this.$t("请输入您的手机号或邮箱"))},async sendCode(){if(this.codeText===this.$t("发送"))if(this.formData.phone)try{await this.$axios.post("send_msg",{phone:this.formData.phone,type:1}),this.$message.success(this.$t("短信验证码发送成功"));let t=59;this.codeText=t+"s",this.interval=setInterval((()=>{t--,this.codeText=t+"s",t<=0&&(this.codeText=this.$t("发送"),clearInterval(this.interval))}),1e3)}catch{}else this.$message.error(this.$t("请输入手机号或邮箱"))}}};t("data-v-1b663b6a");const p=e("img",{alt:"",class:"background",src:c},null,-1),m=e("div",{class:"background-mask",style:{background:"linear-gradient(180deg, rgba(36, 42, 55, 0), #171b24)"}},null,-1),u=e("div",{class:"background-mask",style:{background:"rgba(0, 0, 0, 0.7)"}},null,-1),g=e("div",{class:"background-mask",style:{background:"rgba(36, 42, 55, 0.65)"}},null,-1),$={class:"title"},f={class:"input"},b=["placeholder"],v={class:"input"},D=["placeholder"],k={class:"input"},x=["placeholder"],y={class:"input"},w=["placeholder"],C={class:"handles"};a(),h.render=function(t,a,c,h,T,I){return n(),s(l,null,[p,m,u,g,e("img",{alt:"",class:"icon close",src:d,onClick:a[0]||(a[0]=a=>t.$router.replace("/"))}),e("div",$,o(t.$t("注册")),1),e("div",f,[r(e("input",{"onUpdate:modelValue":a[1]||(a[1]=t=>T.formData.phone=t),placeholder:t.$t("请输入您的手机号或邮箱"),type:"text"},null,8,b),[[i,T.formData.phone]])]),e("div",v,[r(e("input",{"onUpdate:modelValue":a[2]||(a[2]=t=>T.formData.code=t),placeholder:t.$t("请输入您的验证码"),type:"text"},null,8,D),[[i,T.formData.code]]),e("div",{onClick:a[3]||(a[3]=t=>I.sendCode())},o(T.codeText),1)]),e("div",k,[r(e("input",{"onUpdate:modelValue":a[4]||(a[4]=t=>T.formData.password=t),placeholder:t.$t("请输入您的密码"),type:"text"},null,8,x),[[i,T.formData.password]])]),e("div",y,[r(e("input",{"onUpdate:modelValue":a[5]||(a[5]=t=>T.formData.passwordAgain=t),placeholder:t.$t("请重复您的密码"),type:"text"},null,8,w),[[i,T.formData.passwordAgain]])]),e("div",{class:"btn",onClick:a[6]||(a[6]=t=>I.submit())},o(t.$t("注册")),1),e("div",C,[e("span",{onClick:a[7]||(a[7]=a=>t.$router.replace("/login"))},o(t.$t("已有账号？点击登录")),1)])],64)},h.__scopeId="data-v-1b663b6a";export{h as default};
