import{p as a,a as s,c as e,b as t,I as o,J as r,t as l,F as i,o as n}from"./ant-design-vue.81eae99d.js";import{_ as d,a as c}from"./close.56cb694f.js";const p={data:()=>({formData:{platform:1},codeText:"发送"}),async created(){},unmounted(){clearInterval(this.interval)},methods:{async submit(){this.formData.phone?this.formData.code?this.formData.password?this.formData.password===this.formData.passwordAgain?(await this.$axios.post("register",this.formData),this.$message.success("注册成功")):this.$message.error("两次密码输入不一致"):this.$message.error("请输入密码"):this.$message.error("请输入验证码"):this.$message.error("请输入手机号或邮箱")},async sendCode(){if("发送"===this.codeText)if(this.formData.phone)try{await this.$axios.post("send_msg",{phone:this.formData.phone,type:1}),this.$message.success("短信验证码发送成功");let a=59;this.codeText=a+"s",this.interval=setInterval((()=>{a--,this.codeText=a+"s",a<=0&&(this.codeText="发送",clearInterval(this.interval))}),1e3)}catch{}else this.$message.error("请输入手机号或邮箱")}}};a("data-v-4d54a369");const m=t("img",{alt:"",class:"background",src:c},null,-1),u=t("div",{class:"background-mask",style:{background:"linear-gradient(180deg, rgba(36, 42, 55, 0), #171b24)"}},null,-1),h=t("div",{class:"background-mask",style:{background:"rgba(0, 0, 0, 0.7)"}},null,-1),g=t("div",{class:"background-mask",style:{background:"rgba(36, 42, 55, 0.65)"}},null,-1),f=t("div",{class:"title"},"注册",-1),v={class:"input"},b={class:"input"},D={class:"input"},k={class:"input"},x={class:"handles"};s(),p.render=function(a,s,c,p,y,$){return n(),e(i,null,[m,u,h,g,t("img",{alt:"",class:"icon close",src:d,onClick:s[0]||(s[0]=s=>a.$router.back())}),f,t("div",v,[o(t("input",{"onUpdate:modelValue":s[1]||(s[1]=a=>y.formData.phone=a),placeholder:"请输入您的手机号或邮箱",type:"text"},null,512),[[r,y.formData.phone]])]),t("div",b,[o(t("input",{"onUpdate:modelValue":s[2]||(s[2]=a=>y.formData.code=a),placeholder:"请输入您的验证码",type:"text"},null,512),[[r,y.formData.code]]),t("div",{onClick:s[3]||(s[3]=a=>$.sendCode())},l(y.codeText),1)]),t("div",D,[o(t("input",{"onUpdate:modelValue":s[4]||(s[4]=a=>y.formData.password=a),placeholder:"请输入您的密码",type:"text"},null,512),[[r,y.formData.password]])]),t("div",k,[o(t("input",{"onUpdate:modelValue":s[5]||(s[5]=a=>y.formData.passwordAgain=a),placeholder:"请重复您的密码",type:"text"},null,512),[[r,y.formData.passwordAgain]])]),t("div",{class:"btn",onClick:s[6]||(s[6]=a=>$.submit())},"注册"),t("div",x,[t("span",{onClick:s[7]||(s[7]=s=>a.$router.replace("/login"))},"已有账号？点击登录")])],64)},p.__scopeId="data-v-4d54a369";export{p as default};
